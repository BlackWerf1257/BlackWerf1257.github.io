---
layout: post
title:  "C++ 12주차 템플릿과 제네릭 클래스"
tags: [23-2, Cpp]
---

## 템플릿 구체화의 오류

- 제네릭 타입에 두 개 이상 구체적 타입 지정 시 주의

  

  ### 2개의 제너릭 타입을 갖는 템플릿

  ```c++
  template <class T1, class T2>
  void myCopy(T1 src[], T2 dest[], int n) //src[]의 n개 원소를 dest[]에 복사
  {
      for (int i = 0; i < n; i++)
          dest[i] = (T2)src[i]; //T1타입의 값을 T2 타입으로 변경
  }
  
  int main()
  {
      int x[] = { 1,2,3,4,5 };
      double d[5];
      char c[5] = { 'H', 'e', 'l','l','o' }, e[5];
  
      myCopy(x, d, 5); //int x[]의 원소 5개를 double d[]에 복사
      myCopy(c, e, 5); //char c[]의 원소 5개를 char e[]에 복사
      for (int i = 0; i < 5; i++) 
          cout << d[i] << ' '; //d[] 출력
      cout << endl;
      for (int i = 0; i < 5; i++)
          cout << e[i] << ' '; //e[] 출력
      cout << endl;
  }
  ```

  **Output**

  ```
  1 2 3 4 5
  H e l l o
  ```

<br/>

### 템플릿의 char형 구체화 문제

```c++
template <class T>
void print(T array[], int n) {
    for (int i = 0; i < n; i++)
        cout << array[i] << '\t';
    cout << endl;
}

   int x[] = { 1,2,3,4,5 };
   double d[5] = { 1.1, 2.2, 3.3, 4.4, 5.5 };
   print(x, 5);  // 템플릿 T가 int 타입으로 구체화
   print(d, 5);

   char c[5] = { 1, 2, 3, 4, 5 };
   print(c, 5); // 템플릿 T가 char 타입으로 구체화
```

```
1 2 3 4 5
1.1 2.2 3.3 4.4 5.5
```

- Char형태로 구체화 될 경우 해당 숫자가 그 숫자의 위치를 가진 문자가 출력되는 문제가 발생함

<br/>

### 중복 함수와 템플릿의 우선 순위

```c++
template <class T>
void print(T array[], int n) {
    for (int i = 0; i < n; i++)
        cout << (int)array[i] << '\t';
    cout << endl;
}

   int x[] = { 1,2,3,4,5 };
   double d[5] = { 1.1, 2.2, 3.3, 4.4, 5.5 };
   print(x, 5);  // 템플릿 T가 int 타입으로 구체화
   print(d, 5);

   char c[5] = { 1, 2, 3, 4, 5 };
   print(c, 5); // 템플릿 T가 char 타입으로 구체화
```

**Output**

```
1       2       3       4       5
1       2       3       4       5
1       2       3       4       5
```


